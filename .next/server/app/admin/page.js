(()=>{var e={};e.id=698,e.ids=[698],e.modules={364:(e,t,s)=>{Promise.resolve().then(s.bind(s,9441))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},892:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},1164:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},2449:()=>{},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3121:()=>{},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3345:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(687),a=s(3210);function i({onLogin:e}){let[t,s]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),m=async s=>{s.preventDefault(),c(!0),o(""),"admin"===t&&"admin123"===i?(localStorage.setItem("adminLoggedIn","true"),e(!0)):o("Invalid credentials"),c(!1)};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-avenir-heavy text-gray-900",children:"Admin Login"}),(0,r.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the project management dashboard"})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:m,children:[(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),(0,r.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC] focus:z-10 sm:text-sm",placeholder:"Username",value:t,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC] focus:z-10 sm:text-sm",placeholder:"Password",value:i,onChange:e=>l(e.target.value)})]})]}),n&&(0,r.jsx)("div",{className:"text-red-600 text-sm text-center",children:n}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-[#489BAC] hover:bg-[#3a7a8a] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#489BAC] disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Signing in...":"Sign in"})})]}),(0,r.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"Demo Credentials:"}),(0,r.jsx)("p",{children:"Username: admin"}),(0,r.jsx)("p",{children:"Password: admin123"})]})]})})}function l({onLogout:e}){let[t,s]=(0,a.useState)([]),[i,l]=(0,a.useState)(null),[n,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[x,p]=(0,a.useState)([]),[u,h]=(0,a.useState)([{id:"environmental",name:"Environmental Engineering"},{id:"structural",name:"Structural Engineering"},{id:"water",name:"Water Resources"},{id:"sustainability",name:"Sustainability"},{id:"materials",name:"Materials Science"},{id:"transportation",name:"Transportation Engineering"},{id:"geotechnical",name:"Geotechnical Engineering"},{id:"electrical",name:"Electrical Engineering"}]),[b,y]=(0,a.useState)([{id:1,title:"Engineering Statics",code:"ENGR 210",description:"Fundamental principles of statics and their application to engineering problems.",credits:3,image:"/images/project1.jpg"},{id:2,title:"Environmental Water Quality",code:"CEE 318",description:"Study of water quality parameters and environmental monitoring techniques.",credits:3,image:"/images/project2.jpg"},{id:3,title:"Capstone Design: Lab-scale Model for Wetlands",code:"CEE 400",description:"Comprehensive design project focusing on constructed wetland systems.",credits:4,image:"/images/project3.jpg"},{id:4,title:"Construction Materials",code:"CEE 350",description:"Properties and applications of construction materials in engineering projects.",credits:3,image:"/images/project1.jpg"},{id:5,title:"Renewable Energy Systems",code:"ENGR 320",description:"Design and implementation of sustainable energy solutions.",credits:3,image:"/images/project2.jpg"},{id:6,title:"Water Treatment Design",code:"CEE 415",description:"Advanced water treatment system design and optimization.",credits:4,image:"/images/project3.jpg"}]),[j,v]=(0,a.useState)({id:"",name:""}),[f,C]=(0,a.useState)({title:"",code:"",description:"",credits:3,image:"/images/project1.jpg"}),[N,w]=(0,a.useState)({title:"",category:"",courseId:"",courseName:"",description:"",procedure:[""],references:[""],selectedPreviewImage:0,imageCrops:[]}),[P,k]=(0,a.useState)([]),A=e=>{if(k(t=>t.filter((t,s)=>s!==e)),N.imageCrops&&N.imageCrops[e]){let t=N.imageCrops.filter((t,s)=>s!==e);w(e=>({...e,imageCrops:t}))}},M=e=>{w(t=>({...t,selectedPreviewImage:e}))},B=(e,t)=>{let s=[...N.imageCrops||[]];s[e]=t,w(e=>({...e,imageCrops:s}))},I=e=>URL.createObjectURL(e),E=e=>{let t=x.filter((t,s)=>s!==e);p(t),N.selectedPreviewImage>=t.length&&w(e=>({...e,selectedPreviewImage:Math.max(0,t.length-1)}));let s=N.imageCrops.filter((t,s)=>s!==e);w(e=>({...e,imageCrops:s}))},S=e=>{if(e>0){let t=[...x],s=t[e];t[e]=t[e-1],t[e-1]=s,p(t);let r=[...N.imageCrops],a=r[e];r[e]=r[e-1],r[e-1]=a,w(e=>({...e,imageCrops:r}))}},$=e=>{if(e<x.length-1){let t=[...x],s=t[e];t[e]=t[e+1],t[e+1]=s,p(t);let r=[...N.imageCrops],a=r[e];r[e]=r[e+1],r[e+1]=a,w(e=>({...e,imageCrops:r}))}},D=e=>{confirm("Are you sure you want to delete this category? Projects using this category will need to be updated.")&&h(t=>t.filter(t=>t.id!==e))},R=(e,t)=>{w(s=>({...s,[e]:t}))},q=(e,t)=>{let s=[...N.references];s[e]=t,w(e=>({...e,references:s}))},L=e=>{w(t=>({...t,references:t.references.filter((t,s)=>s!==e)}))},U=e=>{if(l(e),w({title:e.title,category:e.category,courseId:e.courseId,courseName:e.courseName,description:e.description,procedure:e.procedure,references:e.references,selectedPreviewImage:e.selectedPreviewImage||0,imageCrops:e.imageCrops||[]}),p(e.images||[]),e.images&&e.images.length>0&&(!e.imageCrops||0===e.imageCrops.length)){let t=e.images.map(()=>({x:0,y:0,width:100,height:100}));w(e=>({...e,imageCrops:t}))}o(!0)},_=e=>{confirm("Are you sure you want to delete this project?")&&s(t=>t.filter(t=>t.id!==e))},G=e=>{if(e>0){let r=[...t],a=r[e];r[e]=r[e-1],r[e-1]=a,s(r)}},W=e=>{if(e<t.length-1){let r=[...t],a=r[e];r[e]=r[e+1],r[e+1]=a,s(r)}},T=e=>{if(e>0){let r=[...t],a=r.splice(e,1)[0];r.unshift(a),s(r)}},F=e=>{if(e<t.length-1){let r=[...t],a=r.splice(e,1)[0];r.push(a),s(r)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-avenir-heavy text-gray-900",children:"Project Management Dashboard"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>o(!0),className:"bg-[#489BAC] text-white px-4 py-2 rounded-lg hover:bg-[#3a7a8a] transition-colors",children:"Add New Project"}),(0,r.jsx)("button",{onClick:()=>c(!d),className:"bg-[#489BAC] text-white px-4 py-2 rounded-lg hover:bg-[#3a7a8a] transition-colors",children:d?"Hide Categories":"Manage Categories"}),(0,r.jsx)("button",{onClick:()=>g(!m),className:"bg-[#EEC583] text-black px-4 py-2 rounded-lg hover:bg-[#d4b06f] transition-colors",children:m?"Hide Courses":"Manage Courses"}),(0,r.jsx)("button",{onClick:e,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Logout"})]})]}),d&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-avenir-heavy text-gray-900 mb-6",children:"Category Management"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Category"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"Category ID (e.g., 'robotics')",value:j.id,onChange:e=>v(t=>({...t,id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("input",{type:"text",placeholder:"Category Name (e.g., 'Robotics Engineering')",value:j.name,onChange:e=>v(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("button",{onClick:()=>{j.id&&j.name&&(h(e=>[...e,j]),v({id:"",name:""}))},className:"px-4 py-2 bg-[#489BAC] text-white rounded-md hover:bg-[#3a7a8a] transition-colors",children:"Add Category"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Categories"}),(0,r.jsx)("div",{className:"space-y-2",children:u.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,r.jsx)("span",{className:"font-medium",children:e.name}),(0,r.jsx)("button",{onClick:()=>D(e.id),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Delete"})]},e.id))})]})]})]}),m&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-avenir-heavy text-gray-900 mb-6",children:"Course Management"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Course"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"Course Title (e.g., 'Introduction to Civil Engineering')",value:f.title,onChange:e=>C(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("input",{type:"text",placeholder:"Course Code (e.g., 'CEE 101')",value:f.code,onChange:e=>C(t=>({...t,code:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("textarea",{placeholder:"Course Description",value:f.description,onChange:e=>C(t=>({...t,description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("input",{type:"number",placeholder:"Credits (e.g., 3)",value:f.credits,onChange:e=>C(t=>({...t,credits:parseInt(e.target.value,10)||3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("input",{type:"file",accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("button",{onClick:()=>{let e=Math.max(...b.map(e=>e.id))+1;y(t=>[...t,{id:e,...f,image:"/images/project1.jpg"}]),C({title:"",code:"",description:"",credits:3,image:"/images/project1.jpg"})},className:"px-4 py-2 bg-[#489BAC] text-white rounded-md hover:bg-[#3a7a8a] transition-colors",children:"Add Course"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Courses"}),(0,r.jsx)("div",{className:"space-y-2",children:b.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.code}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Credits: ",e.credits]})]}),(0,r.jsx)("button",{onClick:()=>{y(t=>t.filter(t=>t.id!==e.id))},className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Delete"})]},e.id))})]})]})]}),n&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-avenir-heavy text-gray-900 mb-6",children:i?"Edit Project":"Add New Project"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{let e=P.map(e=>new Promise(t=>{let s=new FileReader;s.onload=e=>t(e.target?.result),s.readAsDataURL(e)})),t=[...x,...await Promise.all(e)],r={id:i?.id||Date.now().toString(),...N,images:t,uploadedFiles:P,selectedPreviewImage:N.selectedPreviewImage,imageCrops:N.imageCrops.length>0?N.imageCrops:Array(t.length).fill({x:0,y:0,width:100,height:100})};i?(s(e=>e.map(e=>e.id===i.id?r:e)),l(null)):(s(e=>[...e,r]),o(!1)),w({title:"",category:"",courseId:"",courseName:"",description:"",procedure:[""],references:[""],selectedPreviewImage:0,imageCrops:[]}),k([]),p([])})()},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,r.jsx)("input",{type:"text",value:N.title,onChange:e=>R("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,r.jsxs)("select",{value:N.category,onChange:e=>R("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select a category"}),u.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID"}),(0,r.jsx)("input",{type:"text",value:N.courseId,onChange:e=>R("courseId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Name"}),(0,r.jsx)("input",{type:"text",value:N.courseName,onChange:e=>R("courseName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:N.description,onChange:e=>R("description",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images & Videos"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);k(e=>[...e,...t]);let s=t.filter(e=>e.type.startsWith("image/"));if(s.length>0){let e=s.map(()=>({x:0,y:0,width:100,height:100}));w(t=>({...t,imageCrops:[...t.imageCrops||[],...e]}))}}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-[#EEC583] text-black rounded-md hover:bg-[#d4b06f] transition-colors",children:"Upload"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Supported formats: JPG, PNG, GIF, MP4, MOV. Multiple files can be selected."}),x.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Existing Images:"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:x.map((e,t)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("div",{className:"relative h-24 w-full rounded-lg overflow-hidden border-2 border-gray-300",children:[(0,r.jsx)("img",{src:e,alt:`Existing Image ${t+1}`,className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>S(t),disabled:0===t,className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move Up",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,r.jsx)("button",{type:"button",onClick:()=>$(t),disabled:t===x.length-1,className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move Down",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,r.jsx)("button",{type:"button",onClick:()=>E(t),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Remove",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),(0,r.jsx)("div",{className:"absolute -top-2 -left-2 bg-gray-800 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:t+1}),(0,r.jsx)("button",{type:"button",onClick:()=>M(t),className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs transition-all ${N.selectedPreviewImage===t?"bg-blue-500 text-white ring-2 ring-blue-200":"bg-gray-300 text-gray-600 hover:bg-gray-400"}`,title:N.selectedPreviewImage===t?"Selected as preview":"Select as preview",children:N.selectedPreviewImage===t?"✓":"P"})]},`existing-${t}`))})]}),P.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"New Uploads:"}),(0,r.jsx)("ul",{className:"space-y-2",children:P.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center justify-between p-2 bg-gray-100 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e.name}),(0,r.jsx)("button",{type:"button",onClick:()=>A(t),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Remove"})]},`new-${t}`))})]}),(x.length>0||P.length>0)&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Select Preview Image for Project Card:"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[x.map((e,t)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{type:"button",onClick:()=>M(t),className:`w-full h-24 border-2 rounded-lg overflow-hidden transition-all ${N.selectedPreviewImage===t?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:(0,r.jsx)("img",{src:e,alt:`Preview ${t+1}`,className:"w-full h-full object-cover"})}),N.selectedPreviewImage===t&&(0,r.jsx)("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:"✓"})]},`preview-existing-${t}`)),P.map((e,t)=>{if(e.type.startsWith("image/")){let s=x.length+t;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{type:"button",onClick:()=>M(s),className:`w-full h-24 border-2 rounded-lg overflow-hidden transition-all ${N.selectedPreviewImage===s?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:(0,r.jsx)("img",{src:I(e),alt:`Preview ${s+1}`,className:"w-full h-full object-cover"})}),N.selectedPreviewImage===s&&(0,r.jsx)("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:"✓"})]},`preview-new-${t}`)}return null})]})]}),(x.length>0||P.length>0)&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Image Cropping & Preview:"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"Adjust how images are displayed in project cards. The preview shows the final result."}),x.map((e,t)=>(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Existing Image ",t+1]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>B(t,{x:0,y:0,width:100,height:100}),className:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reset"}),(0,r.jsx)("button",{type:"button",onClick:()=>B(t,{x:25,y:25,width:50,height:50}),className:"text-xs px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Center"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Drag to adjust crop area:"}),(0,r.jsxs)("div",{className:"relative w-full h-48 bg-gray-200 rounded overflow-hidden border-2 border-gray-300",children:[(0,r.jsx)("img",{src:e,alt:`Crop ${t+1}`,className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute border-2 border-blue-500 bg-blue-500 bg-opacity-20 cursor-move",style:{left:`${N.imageCrops&&N.imageCrops[t]?N.imageCrops[t].x:0}%`,top:`${N.imageCrops&&N.imageCrops[t]?N.imageCrops[t].y:0}%`,width:`${N.imageCrops&&N.imageCrops[t]?N.imageCrops[t].width:100}%`,height:`${N.imageCrops&&N.imageCrops[t]?N.imageCrops[t].height:100}%`},onMouseDown:e=>{let s=e.currentTarget.parentElement?.getBoundingClientRect();if(s){let r=(e.clientX-s.left)/s.width*100,a=(e.clientY-s.top)/s.height*100;B(t,{x:Math.max(0,Math.min(r,100)),y:Math.max(0,Math.min(a,100)),width:Math.max(10,Math.min(100-r,100)),height:Math.max(10,Math.min(100-a,100))})}}})]}),(0,r.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"X:"}),(0,r.jsx)("input",{type:"range",min:"0",max:"90",value:N.imageCrops&&N.imageCrops[t]?N.imageCrops[t].x:0,onChange:e=>{let s=parseInt(e.target.value),r=100-s,a=N.imageCrops&&N.imageCrops[t]?N.imageCrops[t]:{x:0,y:0,width:100,height:100};B(t,{...a,x:s,width:Math.min(a.width,r)})},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("span",{className:"text-xs text-gray-600 w-8",children:[N.imageCrops&&N.imageCrops[t]?Math.round(N.imageCrops[t].x):0,"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"Y:"}),(0,r.jsx)("input",{type:"range",min:"0",max:"90",value:N.imageCrops&&N.imageCrops[t]?N.imageCrops[t].y:0,onChange:e=>{let s=parseInt(e.target.value),r=100-s,a=N.imageCrops&&N.imageCrops[t]?N.imageCrops[t]:{x:0,y:0,width:100,height:100};B(t,{...a,y:s,height:Math.min(a.height,r)})},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("span",{className:"text-xs text-gray-600 w-8",children:[N.imageCrops&&N.imageCrops[t]?Math.round(N.imageCrops[t].y):0,"%"]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"How it will look in project cards:"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[(0,r.jsx)("div",{className:"relative h-32 w-full overflow-hidden",children:(0,r.jsx)("img",{src:e,alt:`Preview ${t+1}`,className:"w-full h-full object-cover",style:{objectPosition:N.imageCrops&&N.imageCrops[t]?`${N.imageCrops[t].x}% ${N.imageCrops[t].y}%`:"center center"}})}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-2"}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded w-3/4"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,r.jsxs)("p",{children:["Crop Area: ",N.imageCrops&&N.imageCrops[t]?Math.round(N.imageCrops[t].width):100,"% \xd7 ",N.imageCrops&&N.imageCrops[t]?Math.round(N.imageCrops[t].height):100,"%"]}),(0,r.jsxs)("p",{children:["Position: (",N.imageCrops&&N.imageCrops[t]?Math.round(N.imageCrops[t].x):0,"%, ",N.imageCrops&&N.imageCrops[t]?Math.round(N.imageCrops[t].y):0,"%)"]})]})]})]})]})]},`crop-existing-${t}`)),P.map((e,t)=>{if(e.type.startsWith("image/")&&N.imageCrops&&N.imageCrops[x.length+t]){let s=x.length+t;return(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["New Upload: ",e.name]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>B(s,{x:0,y:0,width:100,height:100}),className:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reset"}),(0,r.jsx)("button",{type:"button",onClick:()=>B(s,{x:25,y:25,width:50,height:50}),className:"text-xs px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Center"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Drag to adjust crop area:"}),(0,r.jsxs)("div",{className:"relative w-full h-48 bg-gray-200 rounded overflow-hidden border-2 border-gray-300",children:[(0,r.jsx)("img",{src:I(e),alt:`Crop ${s+1}`,className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute border-2 border-blue-500 bg-blue-500 bg-opacity-20 cursor-move",style:{left:`${N.imageCrops[s].x}%`,top:`${N.imageCrops[s].y}%`,width:`${N.imageCrops[s].width}%`,height:`${N.imageCrops[s].height}%`},onMouseDown:e=>{let t=e.currentTarget.parentElement?.getBoundingClientRect();if(t){let r=(e.clientX-t.left)/t.width*100,a=(e.clientY-t.top)/t.height*100;B(s,{x:Math.max(0,Math.min(r,100)),y:Math.max(0,Math.min(a,100)),width:Math.max(10,Math.min(100-r,100)),height:Math.max(10,Math.min(100-a,100))})}}})]}),(0,r.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"X:"}),(0,r.jsx)("input",{type:"range",min:"0",max:"90",value:N.imageCrops[s].x,onChange:e=>{let t=parseInt(e.target.value),r=100-t;B(s,{...N.imageCrops[s],x:t,width:Math.min(N.imageCrops[s].width,r)})},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("span",{className:"text-xs text-gray-600 w-8",children:[Math.round(N.imageCrops[s].x),"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"Y:"}),(0,r.jsx)("input",{type:"range",min:"0",max:"90",value:N.imageCrops[s].y,onChange:e=>{let t=parseInt(e.target.value),r=100-t;B(s,{...N.imageCrops[s],y:t,height:Math.min(N.imageCrops[s].height,r)})},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("span",{className:"text-xs text-gray-600 w-8",children:[Math.round(N.imageCrops[s].y),"%"]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"How it will look in project cards:"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[(0,r.jsx)("div",{className:"relative h-32 w-full overflow-hidden",children:(0,r.jsx)("img",{src:I(e),alt:`Preview ${s+1}`,className:"w-full h-full object-cover",style:{objectPosition:`${N.imageCrops[s].x}% ${N.imageCrops[s].y}%`,objectFit:"cover"}})}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-2"}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded w-3/4"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,r.jsxs)("p",{children:["Crop Area: ",Math.round(N.imageCrops[s].width),"% \xd7 ",Math.round(N.imageCrops[s].height),"%"]}),(0,r.jsxs)("p",{children:["Position: (",Math.round(N.imageCrops[s].x),"%, ",Math.round(N.imageCrops[s].y),"%)"]})]})]})]})]})]},`crop-new-${t}`)}return null})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Procedure"}),(0,r.jsx)("textarea",{value:N.procedure.join(" "),onChange:e=>R("procedure",[e.target.value]),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",placeholder:"Describe the project procedure in detail...",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"References"}),N.references.map((e,t)=>(0,r.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>q(t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",placeholder:"Reference",required:!0}),N.references.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>L(t),className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Remove"})]},t)),(0,r.jsx)("button",{type:"button",onClick:()=>{w(e=>({...e,references:[...e.references,""]}))},className:"mt-2 px-4 py-2 bg-[#EEC583] text-black rounded-md hover:bg-[#d4b06f] transition-colors",children:"Add Reference"})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"submit",className:"px-6 py-2 bg-[#489BAC] text-white rounded-md hover:bg-[#3a7a8a] transition-colors",children:i?"Update Project":"Add Project"}),(0,r.jsx)("button",{type:"button",onClick:()=>{l(null),o(!1),w({title:"",category:"",courseId:"",courseName:"",description:"",procedure:[""],references:[""],selectedPreviewImage:0,imageCrops:[]}),k([]),p([])},className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Current Projects"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Projects are displayed in order from top to bottom. Use the arrow buttons to reorder projects. The first 3 projects will appear on the homepage as featured projects."})]}),(0,r.jsxs)("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-200",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-blue-900 mb-2",children:"Featured Projects (Homepage Display)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.slice(0,3).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:["#",t+1]}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.title})]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.courseId})]},e.id)),t.length<3&&(0,r.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg border border-gray-300 text-center",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:0===t.length?"No projects yet":`${3-t.length} more project${3-t.length==1?"":"s"} needed`})})]})]}),0===t.length?(0,r.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:'No projects added yet. Click "Add New Project" to get started.'}):(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:t.map((e,s)=>(0,r.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["#",s+1]}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:e.title})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.category}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.courseId," - ",e.courseName]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2",children:e.description})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("button",{onClick:()=>T(s),disabled:0===s,className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move to top",children:"↑↑"}),(0,r.jsx)("button",{onClick:()=>G(s),disabled:0===s,className:"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move up",children:"↑"}),(0,r.jsx)("button",{onClick:()=>W(s),disabled:s===t.length-1,className:"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move down",children:"↓"}),(0,r.jsx)("button",{onClick:()=>F(s),disabled:s===t.length-1,className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move to bottom",children:"↓↓"})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>U(e),className:"px-3 py-1 bg-[#489BAC] text-white text-sm rounded-md hover:bg-[#3a7a8a] transition-colors",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>_(e.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})]})},e.id))})]})]})})}function n(){let[e,t]=(0,a.useState)(!1);return e?(0,r.jsx)(l,{onLogout:()=>{localStorage.removeItem("adminLoggedIn"),t(!1)}}):(0,r.jsx)(i,{onLogin:e=>{t(e)}})}},3873:e=>{"use strict";e.exports=require("path")},3916:(e,t,s)=>{Promise.resolve().then(s.bind(s,3345))},8014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>a});var r=s(7413);s(2704);let a={title:"Living Engineering Laboratory",description:"A dynamic repository of innovative engineering projects, promoting student-centered learning through hands-on exploration and real-world application.",icons:{icon:"/images/logo.png",shortcut:"/images/logo.png",apple:"/images/logo.png"}};function i({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:"antialiased",children:e})})}},8797:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>g,tree:()=>d});var r=s(5239),a=s(8088),i=s(8170),l=s.n(i),n=s(893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d={children:["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9441)),"/Users/sprihapokharel/workspace/living-lab-website/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"/Users/sprihapokharel/workspace/living-lab-website/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/sprihapokharel/workspace/living-lab-website/app/admin/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9441:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sprihapokharel/workspace/living-lab-website/app/admin/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sprihapokharel/workspace/living-lab-website/app/admin/page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[825],()=>s(8797));module.exports=r})();