(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{8:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5155),a=s(2115);function i(e){let{onLogin:t}=e,[s,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(!1),g=async e=>{e.preventDefault(),m(!0),d(""),"admin"===s&&"admin123"===l?(localStorage.setItem("adminLoggedIn","true"),t(!0)):d("Invalid credentials"),m(!1)};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-avenir-heavy text-gray-900",children:"Admin Login"}),(0,r.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the project management dashboard"})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),(0,r.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC] focus:z-10 sm:text-sm",placeholder:"Username",value:s,onChange:e=>i(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC] focus:z-10 sm:text-sm",placeholder:"Password",value:l,onChange:e=>o(e.target.value)})]})]}),n&&(0,r.jsx)("div",{className:"text-red-600 text-sm text-center",children:n}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-[#489BAC] hover:bg-[#3a7a8a] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#489BAC] disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign in"})})]}),(0,r.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"Demo Credentials:"}),(0,r.jsx)("p",{children:"Username: admin"}),(0,r.jsx)("p",{children:"Password: admin123"})]})]})})}function l(e){let{onLogout:t}=e,[s,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[n,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[u,p]=(0,a.useState)([]),[h,b]=(0,a.useState)([{id:"environmental",name:"Environmental Engineering"},{id:"structural",name:"Structural Engineering"},{id:"water",name:"Water Resources"},{id:"sustainability",name:"Sustainability"},{id:"materials",name:"Materials Science"},{id:"transportation",name:"Transportation Engineering"},{id:"geotechnical",name:"Geotechnical Engineering"},{id:"electrical",name:"Electrical Engineering"}]),[y,j]=(0,a.useState)([{id:1,title:"Engineering Statics",code:"ENGR 210",description:"Fundamental principles of statics and their application to engineering problems.",credits:3,image:"/images/project1.jpg"},{id:2,title:"Environmental Water Quality",code:"CEE 318",description:"Study of water quality parameters and environmental monitoring techniques.",credits:3,image:"/images/project2.jpg"},{id:3,title:"Capstone Design: Lab-scale Model for Wetlands",code:"CEE 400",description:"Comprehensive design project focusing on constructed wetland systems.",credits:4,image:"/images/project3.jpg"},{id:4,title:"Construction Materials",code:"CEE 350",description:"Properties and applications of construction materials in engineering projects.",credits:3,image:"/images/project1.jpg"},{id:5,title:"Renewable Energy Systems",code:"ENGR 320",description:"Design and implementation of sustainable energy solutions.",credits:3,image:"/images/project2.jpg"},{id:6,title:"Water Treatment Design",code:"CEE 415",description:"Advanced water treatment system design and optimization.",credits:4,image:"/images/project3.jpg"}]),[f,v]=(0,a.useState)({id:"",name:""}),[N,C]=(0,a.useState)({title:"",code:"",description:"",credits:3,image:"/images/project1.jpg"}),[w,A]=(0,a.useState)({title:"",category:"",courseId:"",courseName:"",description:"",procedure:[""],references:[""],selectedPreviewImage:0,imageCrops:[]}),[k,M]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=localStorage.getItem("projects");if(e){let t=JSON.parse(e);t.length>0&&i(t)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("projects",JSON.stringify(s))},[s]),(0,a.useEffect)(()=>{localStorage.setItem("categories",JSON.stringify(h))},[h]),(0,a.useEffect)(()=>{localStorage.setItem("courses",JSON.stringify(y))},[y]),(0,a.useEffect)(()=>{let e=localStorage.getItem("courses");if(e){let t=JSON.parse(e);t.length>0&&j(t)}},[]);let I=e=>{if(M(t=>t.filter((t,s)=>s!==e)),w.imageCrops&&w.imageCrops[e]){let t=w.imageCrops.filter((t,s)=>s!==e);A(e=>({...e,imageCrops:t}))}},P=e=>{A(t=>({...t,selectedPreviewImage:e}))},B=(e,t)=>{let s=[...w.imageCrops||[]];s[e]=t,A(e=>({...e,imageCrops:s}))},E=e=>URL.createObjectURL(e),S=e=>{let t=u.filter((t,s)=>s!==e);p(t),w.selectedPreviewImage>=t.length&&A(e=>({...e,selectedPreviewImage:Math.max(0,t.length-1)}));let s=w.imageCrops.filter((t,s)=>s!==e);A(e=>({...e,imageCrops:s}))},D=e=>{if(e>0){let t=[...u],s=t[e];t[e]=t[e-1],t[e-1]=s,p(t);let r=[...w.imageCrops],a=r[e];r[e]=r[e-1],r[e-1]=a,A(e=>({...e,imageCrops:r}))}},R=e=>{if(e<u.length-1){let t=[...u],s=t[e];t[e]=t[e+1],t[e+1]=s,p(t);let r=[...w.imageCrops],a=r[e];r[e]=r[e+1],r[e+1]=a,A(e=>({...e,imageCrops:r}))}},L=e=>{confirm("Are you sure you want to delete this category? Projects using this category will need to be updated.")&&b(t=>t.filter(t=>t.id!==e))},U=(e,t)=>{A(s=>({...s,[e]:t}))},q=(e,t)=>{let s=[...w.references];s[e]=t,A(e=>({...e,references:s}))},W=e=>{A(t=>({...t,references:t.references.filter((t,s)=>s!==e)}))},O=e=>{if(o(e),A({title:e.title,category:e.category,courseId:e.courseId,courseName:e.courseName,description:e.description,procedure:e.procedure,references:e.references,selectedPreviewImage:e.selectedPreviewImage||0,imageCrops:e.imageCrops||[]}),p(e.images||[]),e.images&&e.images.length>0&&(!e.imageCrops||0===e.imageCrops.length)){let t=e.images.map(()=>({x:0,y:0,width:100,height:100}));A(e=>({...e,imageCrops:t}))}d(!0)},F=e=>{confirm("Are you sure you want to delete this project?")&&i(t=>t.filter(t=>t.id!==e))},T=e=>{if(e>0){let t=[...s],r=t[e];t[e]=t[e-1],t[e-1]=r,i(t)}},G=e=>{if(e<s.length-1){let t=[...s],r=t[e];t[e]=t[e+1],t[e+1]=r,i(t)}},J=e=>{if(e>0){let t=[...s],r=t.splice(e,1)[0];t.unshift(r),i(t)}},_=e=>{if(e<s.length-1){let t=[...s],r=t.splice(e,1)[0];t.push(r),i(t)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-avenir-heavy text-gray-900",children:"Project Management Dashboard"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>d(!0),className:"bg-[#489BAC] text-white px-4 py-2 rounded-lg hover:bg-[#3a7a8a] transition-colors",children:"Add New Project"}),(0,r.jsx)("button",{onClick:()=>m(!c),className:"bg-[#489BAC] text-white px-4 py-2 rounded-lg hover:bg-[#3a7a8a] transition-colors",children:c?"Hide Categories":"Manage Categories"}),(0,r.jsx)("button",{onClick:()=>x(!g),className:"bg-[#EEC583] text-black px-4 py-2 rounded-lg hover:bg-[#d4b06f] transition-colors",children:g?"Hide Courses":"Manage Courses"}),(0,r.jsx)("button",{onClick:t,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Logout"})]})]}),c&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-avenir-heavy text-gray-900 mb-6",children:"Category Management"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Category"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"Category ID (e.g., 'robotics')",value:f.id,onChange:e=>v(t=>({...t,id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("input",{type:"text",placeholder:"Category Name (e.g., 'Robotics Engineering')",value:f.name,onChange:e=>v(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("button",{onClick:()=>{f.id&&f.name&&(b(e=>[...e,f]),v({id:"",name:""}))},className:"px-4 py-2 bg-[#489BAC] text-white rounded-md hover:bg-[#3a7a8a] transition-colors",children:"Add Category"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Categories"}),(0,r.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,r.jsx)("span",{className:"font-medium",children:e.name}),(0,r.jsx)("button",{onClick:()=>L(e.id),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Delete"})]},e.id))})]})]})]}),g&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-avenir-heavy text-gray-900 mb-6",children:"Course Management"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Course"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"Course Title (e.g., 'Introduction to Civil Engineering')",value:N.title,onChange:e=>C(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("input",{type:"text",placeholder:"Course Code (e.g., 'CEE 101')",value:N.code,onChange:e=>C(t=>({...t,code:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("textarea",{placeholder:"Course Description",value:N.description,onChange:e=>C(t=>({...t,description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("input",{type:"number",placeholder:"Credits (e.g., 3)",value:N.credits,onChange:e=>C(t=>({...t,credits:parseInt(e.target.value,10)||3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("input",{type:"file",accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("button",{onClick:()=>{let e=Math.max(...y.map(e=>e.id))+1;j(t=>[...t,{id:e,...N,image:"/images/project1.jpg"}]),C({title:"",code:"",description:"",credits:3,image:"/images/project1.jpg"})},className:"px-4 py-2 bg-[#489BAC] text-white rounded-md hover:bg-[#3a7a8a] transition-colors",children:"Add Course"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Courses"}),(0,r.jsx)("div",{className:"space-y-2",children:y.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.code}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Credits: ",e.credits]})]}),(0,r.jsx)("button",{onClick:()=>{j(t=>t.filter(t=>t.id!==e.id))},className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Delete"})]},e.id))})]})]})]}),n&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-avenir-heavy text-gray-900 mb-6",children:l?"Edit Project":"Add New Project"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{let e=k.map(e=>new Promise(t=>{let s=new FileReader;s.onload=e=>{var s;return t(null==(s=e.target)?void 0:s.result)},s.readAsDataURL(e)})),t=[...u,...await Promise.all(e)],s={id:(null==l?void 0:l.id)||Date.now().toString(),...w,images:t,uploadedFiles:k,selectedPreviewImage:w.selectedPreviewImage,imageCrops:w.imageCrops.length>0?w.imageCrops:Array(t.length).fill({x:0,y:0,width:100,height:100})};l?(i(e=>e.map(e=>e.id===l.id?s:e)),o(null)):(i(e=>[...e,s]),d(!1)),A({title:"",category:"",courseId:"",courseName:"",description:"",procedure:[""],references:[""],selectedPreviewImage:0,imageCrops:[]}),M([]),p([])})()},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,r.jsx)("input",{type:"text",value:w.title,onChange:e=>U("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,r.jsxs)("select",{value:w.category,onChange:e=>U("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select a category"}),h.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID"}),(0,r.jsx)("input",{type:"text",value:w.courseId,onChange:e=>U("courseId",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Name"}),(0,r.jsx)("input",{type:"text",value:w.courseName,onChange:e=>U("courseName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:w.description,onChange:e=>U("description",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images & Videos"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);M(e=>[...e,...t]);let s=t.filter(e=>e.type.startsWith("image/"));if(s.length>0){let e=s.map(()=>({x:0,y:0,width:100,height:100}));A(t=>({...t,imageCrops:[...t.imageCrops||[],...e]}))}}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]"}),(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-[#EEC583] text-black rounded-md hover:bg-[#d4b06f] transition-colors",children:"Upload"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Supported formats: JPG, PNG, GIF, MP4, MOV. Multiple files can be selected."}),u.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Existing Images:"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:u.map((e,t)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("div",{className:"relative h-24 w-full rounded-lg overflow-hidden border-2 border-gray-300",children:[(0,r.jsx)("img",{src:e,alt:"Existing Image ".concat(t+1),className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>D(t),disabled:0===t,className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move Up",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,r.jsx)("button",{type:"button",onClick:()=>R(t),disabled:t===u.length-1,className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move Down",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,r.jsx)("button",{type:"button",onClick:()=>S(t),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Remove",children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),(0,r.jsx)("div",{className:"absolute -top-2 -left-2 bg-gray-800 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:t+1}),(0,r.jsx)("button",{type:"button",onClick:()=>P(t),className:"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs transition-all ".concat(w.selectedPreviewImage===t?"bg-blue-500 text-white ring-2 ring-blue-200":"bg-gray-300 text-gray-600 hover:bg-gray-400"),title:w.selectedPreviewImage===t?"Selected as preview":"Select as preview",children:w.selectedPreviewImage===t?"✓":"P"})]},"existing-".concat(t)))})]}),k.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"New Uploads:"}),(0,r.jsx)("ul",{className:"space-y-2",children:k.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center justify-between p-2 bg-gray-100 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e.name}),(0,r.jsx)("button",{type:"button",onClick:()=>I(t),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Remove"})]},"new-".concat(t)))})]}),(u.length>0||k.length>0)&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Select Preview Image for Project Card:"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.map((e,t)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{type:"button",onClick:()=>P(t),className:"w-full h-24 border-2 rounded-lg overflow-hidden transition-all ".concat(w.selectedPreviewImage===t?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"),children:(0,r.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-full object-cover"})}),w.selectedPreviewImage===t&&(0,r.jsx)("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:"✓"})]},"preview-existing-".concat(t))),k.map((e,t)=>{if(e.type.startsWith("image/")){let s=u.length+t;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{type:"button",onClick:()=>P(s),className:"w-full h-24 border-2 rounded-lg overflow-hidden transition-all ".concat(w.selectedPreviewImage===s?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"),children:(0,r.jsx)("img",{src:E(e),alt:"Preview ".concat(s+1),className:"w-full h-full object-cover"})}),w.selectedPreviewImage===s&&(0,r.jsx)("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:"✓"})]},"preview-new-".concat(t))}return null})]})]}),(u.length>0||k.length>0)&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Image Cropping & Preview:"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"Adjust how images are displayed in project cards. The preview shows the final result."}),u.map((e,t)=>(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Existing Image ",t+1]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>B(t,{x:0,y:0,width:100,height:100}),className:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reset"}),(0,r.jsx)("button",{type:"button",onClick:()=>B(t,{x:25,y:25,width:50,height:50}),className:"text-xs px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Center"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Drag to adjust crop area:"}),(0,r.jsxs)("div",{className:"relative w-full h-48 bg-gray-200 rounded overflow-hidden border-2 border-gray-300",children:[(0,r.jsx)("img",{src:e,alt:"Crop ".concat(t+1),className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute border-2 border-blue-500 bg-blue-500 bg-opacity-20 cursor-move",style:{left:"".concat(w.imageCrops&&w.imageCrops[t]?w.imageCrops[t].x:0,"%"),top:"".concat(w.imageCrops&&w.imageCrops[t]?w.imageCrops[t].y:0,"%"),width:"".concat(w.imageCrops&&w.imageCrops[t]?w.imageCrops[t].width:100,"%"),height:"".concat(w.imageCrops&&w.imageCrops[t]?w.imageCrops[t].height:100,"%")},onMouseDown:e=>{var s;let r=null==(s=e.currentTarget.parentElement)?void 0:s.getBoundingClientRect();if(r){let s=(e.clientX-r.left)/r.width*100,a=(e.clientY-r.top)/r.height*100;B(t,{x:Math.max(0,Math.min(s,100)),y:Math.max(0,Math.min(a,100)),width:Math.max(10,Math.min(100-s,100)),height:Math.max(10,Math.min(100-a,100))})}}})]}),(0,r.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"X:"}),(0,r.jsx)("input",{type:"range",min:"0",max:"90",value:w.imageCrops&&w.imageCrops[t]?w.imageCrops[t].x:0,onChange:e=>{let s=parseInt(e.target.value),r=100-s,a=w.imageCrops&&w.imageCrops[t]?w.imageCrops[t]:{x:0,y:0,width:100,height:100};B(t,{...a,x:s,width:Math.min(a.width,r)})},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("span",{className:"text-xs text-gray-600 w-8",children:[w.imageCrops&&w.imageCrops[t]?Math.round(w.imageCrops[t].x):0,"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"Y:"}),(0,r.jsx)("input",{type:"range",min:"0",max:"90",value:w.imageCrops&&w.imageCrops[t]?w.imageCrops[t].y:0,onChange:e=>{let s=parseInt(e.target.value),r=100-s,a=w.imageCrops&&w.imageCrops[t]?w.imageCrops[t]:{x:0,y:0,width:100,height:100};B(t,{...a,y:s,height:Math.min(a.height,r)})},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("span",{className:"text-xs text-gray-600 w-8",children:[w.imageCrops&&w.imageCrops[t]?Math.round(w.imageCrops[t].y):0,"%"]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"How it will look in project cards:"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[(0,r.jsx)("div",{className:"relative h-32 w-full overflow-hidden",children:(0,r.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-full object-cover",style:{objectPosition:w.imageCrops&&w.imageCrops[t]?"".concat(w.imageCrops[t].x,"% ").concat(w.imageCrops[t].y,"%"):"center center"}})}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-2"}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded w-3/4"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,r.jsxs)("p",{children:["Crop Area: ",w.imageCrops&&w.imageCrops[t]?Math.round(w.imageCrops[t].width):100,"% \xd7 ",w.imageCrops&&w.imageCrops[t]?Math.round(w.imageCrops[t].height):100,"%"]}),(0,r.jsxs)("p",{children:["Position: (",w.imageCrops&&w.imageCrops[t]?Math.round(w.imageCrops[t].x):0,"%, ",w.imageCrops&&w.imageCrops[t]?Math.round(w.imageCrops[t].y):0,"%)"]})]})]})]})]})]},"crop-existing-".concat(t))),k.map((e,t)=>{if(e.type.startsWith("image/")&&w.imageCrops&&w.imageCrops[u.length+t]){let s=u.length+t;return(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["New Upload: ",e.name]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>B(s,{x:0,y:0,width:100,height:100}),className:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reset"}),(0,r.jsx)("button",{type:"button",onClick:()=>B(s,{x:25,y:25,width:50,height:50}),className:"text-xs px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Center"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Drag to adjust crop area:"}),(0,r.jsxs)("div",{className:"relative w-full h-48 bg-gray-200 rounded overflow-hidden border-2 border-gray-300",children:[(0,r.jsx)("img",{src:E(e),alt:"Crop ".concat(s+1),className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute border-2 border-blue-500 bg-blue-500 bg-opacity-20 cursor-move",style:{left:"".concat(w.imageCrops[s].x,"%"),top:"".concat(w.imageCrops[s].y,"%"),width:"".concat(w.imageCrops[s].width,"%"),height:"".concat(w.imageCrops[s].height,"%")},onMouseDown:e=>{var t;let r=null==(t=e.currentTarget.parentElement)?void 0:t.getBoundingClientRect();if(r){let t=(e.clientX-r.left)/r.width*100,a=(e.clientY-r.top)/r.height*100;B(s,{x:Math.max(0,Math.min(t,100)),y:Math.max(0,Math.min(a,100)),width:Math.max(10,Math.min(100-t,100)),height:Math.max(10,Math.min(100-a,100))})}}})]}),(0,r.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"X:"}),(0,r.jsx)("input",{type:"range",min:"0",max:"90",value:w.imageCrops[s].x,onChange:e=>{let t=parseInt(e.target.value),r=100-t;B(s,{...w.imageCrops[s],x:t,width:Math.min(w.imageCrops[s].width,r)})},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("span",{className:"text-xs text-gray-600 w-8",children:[Math.round(w.imageCrops[s].x),"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"Y:"}),(0,r.jsx)("input",{type:"range",min:"0",max:"90",value:w.imageCrops[s].y,onChange:e=>{let t=parseInt(e.target.value),r=100-t;B(s,{...w.imageCrops[s],y:t,height:Math.min(w.imageCrops[s].height,r)})},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,r.jsxs)("span",{className:"text-xs text-gray-600 w-8",children:[Math.round(w.imageCrops[s].y),"%"]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"How it will look in project cards:"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[(0,r.jsx)("div",{className:"relative h-32 w-full overflow-hidden",children:(0,r.jsx)("img",{src:E(e),alt:"Preview ".concat(s+1),className:"w-full h-full object-cover",style:{objectPosition:"".concat(w.imageCrops[s].x,"% ").concat(w.imageCrops[s].y,"%"),objectFit:"cover"}})}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-2"}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded w-3/4"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,r.jsxs)("p",{children:["Crop Area: ",Math.round(w.imageCrops[s].width),"% \xd7 ",Math.round(w.imageCrops[s].height),"%"]}),(0,r.jsxs)("p",{children:["Position: (",Math.round(w.imageCrops[s].x),"%, ",Math.round(w.imageCrops[s].y),"%)"]})]})]})]})]})]},"crop-new-".concat(t))}return null})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Procedure"}),(0,r.jsx)("textarea",{value:w.procedure.join(" "),onChange:e=>U("procedure",[e.target.value]),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",placeholder:"Describe the project procedure in detail...",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"References"}),w.references.map((e,t)=>(0,r.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>q(t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#489BAC] focus:border-[#489BAC]",placeholder:"Reference",required:!0}),w.references.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>W(t),className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Remove"})]},t)),(0,r.jsx)("button",{type:"button",onClick:()=>{A(e=>({...e,references:[...e.references,""]}))},className:"mt-2 px-4 py-2 bg-[#EEC583] text-black rounded-md hover:bg-[#d4b06f] transition-colors",children:"Add Reference"})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"submit",className:"px-6 py-2 bg-[#489BAC] text-white rounded-md hover:bg-[#3a7a8a] transition-colors",children:l?"Update Project":"Add Project"}),(0,r.jsx)("button",{type:"button",onClick:()=>{o(null),d(!1),A({title:"",category:"",courseId:"",courseName:"",description:"",procedure:[""],references:[""],selectedPreviewImage:0,imageCrops:[]}),M([]),p([])},className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Current Projects"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Projects are displayed in order from top to bottom. Use the arrow buttons to reorder projects. The first 3 projects will appear on the homepage as featured projects."})]}),(0,r.jsxs)("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-200",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-blue-900 mb-2",children:"Featured Projects (Homepage Display)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.slice(0,3).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:["#",t+1]}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.title})]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.courseId})]},e.id)),s.length<3&&(0,r.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg border border-gray-300 text-center",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:0===s.length?"No projects yet":"".concat(3-s.length," more project").concat(3-s.length==1?"":"s"," needed")})})]})]}),0===s.length?(0,r.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:'No projects added yet. Click "Add New Project" to get started.'}):(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:s.map((e,t)=>(0,r.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["#",t+1]}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:e.title})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.category}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.courseId," - ",e.courseName]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2",children:e.description})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("button",{onClick:()=>J(t),disabled:0===t,className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move to top",children:"↑↑"}),(0,r.jsx)("button",{onClick:()=>T(t),disabled:0===t,className:"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move up",children:"↑"}),(0,r.jsx)("button",{onClick:()=>G(t),disabled:t===s.length-1,className:"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move down",children:"↓"}),(0,r.jsx)("button",{onClick:()=>_(t),disabled:t===s.length-1,className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move to bottom",children:"↓↓"})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>O(e),className:"px-3 py-1 bg-[#489BAC] text-white text-sm rounded-md hover:bg-[#3a7a8a] transition-colors",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>F(e.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})]})},e.id))})]})]})})}function o(){let[e,t]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{"true"===localStorage.getItem("adminLoggedIn")&&t(!0)},[]),e)?(0,r.jsx)(l,{onLogout:()=>{localStorage.removeItem("adminLoggedIn"),t(!1)}}):(0,r.jsx)(i,{onLogin:e=>{t(e)}})}},2599:(e,t,s)=>{Promise.resolve().then(s.bind(s,8))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(2599)),_N_E=e.O()}]);